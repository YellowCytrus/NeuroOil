# Neural Network for Oil Production Prediction

–ù–µ–π—Ä–æ–Ω–Ω–∞—è —Å–µ—Ç—å –¥–ª—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –¥–µ–±–∏—Ç–∞ –Ω–µ—Ñ—Ç–∏ (debit_oil_t_per_day) –∏–∑ 7 –≤—Ö–æ–¥–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.

## ü™ü Windows Users - Quick Start

**For Windows 7, 8, 10, or 11:**

1. **Just double-click `START.bat`** - That's it!
2. The script will automatically:
   - Check if Python and Node.js are installed
   - Install all dependencies
   - Start the application
   - Open it in your browser

**First time?** You'll need to install:
- Python 3.11+ from https://www.python.org/ (check "Add Python to PATH")
- Node.js from https://nodejs.org/

See `README_WINDOWS.md` for detailed instructions and troubleshooting.

---

## –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (GUI)

–ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞ React + TypeScript —Å –¥–≤—É–º—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏:

1. **–°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ–±—É—á–µ–Ω–∏—è** - –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞—Ç–∞—Å–µ—Ç–∞, –∑–∞–ø—É—Å–∫ –æ–±—É—á–µ–Ω–∏—è —Å real-time –≥—Ä–∞—Ñ–∏–∫–∞–º–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π –Ω–µ–π—Ä–æ–Ω–Ω–æ–π —Å–µ—Ç–∏
2. **–°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π** - –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–ª–∑—É–Ω–∫–∏ –¥–ª—è –≤—Å–µ—Ö –≤—Ö–æ–¥–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è

### –ó–∞–ø—É—Å–∫ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

#### Backend (FastAPI)

```bash
cd backend
uv pip install -r requirements.txt
./run_backend.sh
# –∏–ª–∏
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

Backend –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ `http://localhost:8000`

#### Frontend (React + Vite)

```bash
cd frontend
npm install
npm run dev
```

Frontend –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ `http://localhost:3000`

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ `http://localhost:3000` –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ "–û–±—É—á–µ–Ω–∏–µ":
   - –ó–∞–≥—Ä—É–∑–∏—Ç–µ CSV —Ñ–∞–π–ª (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–∞–π–ª –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é "Volve production data.csv")
   - –ù–∞–∂–º–∏—Ç–µ "–ù–∞—á–∞—Ç—å –æ–±—É—á–µ–Ω–∏–µ"
   - –ù–∞–±–ª—é–¥–∞–π—Ç–µ –∑–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–∞—Ö
   - –°–º–æ—Ç—Ä–∏—Ç–µ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é –Ω–µ–π—Ä–æ–Ω–Ω–æ–π —Å–µ—Ç–∏ —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π –∞–∫—Ç–∏–≤–∞—Ü–∏–∏
3. –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ "–ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ":
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–ª–∑—É–Ω–∫–∏ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
   - –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–Ω—ã–π –¥–µ–±–∏—Ç –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

---

## –ö–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ (–æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–±)

## –í—Ö–æ–¥–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

1. **P_downhole** - –¥–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –∑–∞–±–æ–µ (bara)
2. **Q_liquid** - –¥–µ–±–∏—Ç –∂–∏–¥–∫–æ—Å—Ç–∏ (Sm¬≥/—Å—É—Ç)
3. **H_pump** - –Ω–∞–ø–æ—Ä –Ω–∞—Å–æ—Å–∞ (–º)
4. **WC_percent** - –æ–±–≤–æ–¥–Ω–µ–Ω–Ω–æ—Å—Ç—å (%)
5. **GFR** - –≥–∞–∑–æ–≤—ã–π —Ñ–∞–∫—Ç–æ—Ä (–º¬≥/–º¬≥)
6. **on_stream_hrs** - –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã (—á–∞—Å—ã/—Å—É—Ç–∫–∏)
7. **choke_size** - —Ä–∞–∑–º–µ—Ä —à—Ç—É—Ü–µ—Ä–∞ (%)

## Target

**debit_oil_t_per_day** - –¥–µ–±–∏—Ç –Ω–µ—Ñ—Ç–∏ (—Ç/—Å—É—Ç)

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ uv

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
uv pip install -r requirements.txt
```

2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –æ–±—É—á–µ–Ω–∏–µ:
```bash
uv run --no-project train_model.py
```

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç:
```bash
./run.sh
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è

1. –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —Å–æ–∑–¥–∞–Ω–æ):
```bash
uv venv
```

2. –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:
```bash
source .venv/bin/activate
```

3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
uv pip install -r requirements.txt
```

4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –æ–±—É—á–µ–Ω–∏–µ:
```bash
python train_model.py
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

–ü–æ—Å–ª–µ –æ–±—É—á–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞—Å—Ç:
- `training_history.png` - –≥—Ä–∞—Ñ–∏–∫–∏ –∏—Å—Ç–æ—Ä–∏–∏ –æ–±—É—á–µ–Ω–∏—è (loss –∏ MAE)
- `predictions_vs_actual.png` - –≥—Ä–∞—Ñ–∏–∫ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π vs —Ä–µ–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
- `oil_production_model.keras` - **—Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å** (–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –¥—Ä—É–≥–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö)
- `scaler.pkl` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π scaler –¥–ª—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö
- `model_info.pkl` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–æ–¥–µ–ª–∏ (–Ω–∞–∑–≤–∞–Ω–∏—è –ø—Ä–∏–∑–Ω–∞–∫–æ–≤, –º–µ—Ç—Ä–∏–∫–∏)
- –í—ã–≤–µ–¥–µ—Ç –º–µ—Ç—Ä–∏–∫–∏: R¬≤, MAE, MSE, RMSE

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏

### –ö–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞

–ü–µ—Ä–µ–¥–∞–π—Ç–µ 7 –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É:
```bash
python predict.py 250.0 2000.0 1500.0 50.0 200.0 24.0 45.0
```

–ü–æ—Ä—è–¥–æ–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:
1. P_downhole (bara)
2. Q_liquid (Sm¬≥/—Å—É—Ç)
3. H_pump (–º)
4. WC_percent (%)
5. GFR (–º¬≥/–º¬≥)
6. on_stream_hrs (—á–∞—Å—ã/—Å—É—Ç–∫–∏)
7. choke_size (%)

### –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å —Ñ–ª–∞–≥–æ–º `--interactive` –¥–ª—è –≤–≤–æ–¥–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø–æ –æ–¥–Ω–æ–º—É:
```bash
python predict.py --interactive
```

### –°–ø—Ä–∞–≤–∫–∞

–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –æ–ø—Ü–∏–∏:
```bash
python predict.py --help
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ —Å–≤–æ–µ–º –∫–æ–¥–µ

```python
from predict import load_model_and_scaler, predict

# –ó–∞–≥—Ä—É–∑–∏—Ç–µ –º–æ–¥–µ–ª—å –æ–¥–∏–Ω —Ä–∞–∑ (–ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
model, scaler, info = load_model_and_scaler()

# –î–µ–ª–∞–π—Ç–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è
features = {
    'P_downhole': 250.0,      # bara
    'Q_liquid': 2000.0,        # Sm¬≥/—Å—É—Ç
    'H_pump': 1500.0,          # –º
    'WC_percent': 50.0,        # %
    'GFR': 200.0,              # –º¬≥/–º¬≥
    'on_stream_hrs': 24.0,     # —á–∞—Å—ã/—Å—É—Ç–∫–∏
    'choke_size': 45.0         # %
}

prediction = predict(model, scaler, features)
print(f"–ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–Ω—ã–π –¥–µ–±–∏—Ç: {prediction:.2f} —Ç/—Å—É—Ç")
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –¥—Ä—É–≥–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —Ñ–∞–π–ª—ã –≤ –≤–∞—à –ø—Ä–æ–µ–∫—Ç:
- `oil_production_model.keras` - –º–æ–¥–µ–ª—å
- `scaler.pkl` - –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ç–æ—Ä
- `model_info.pkl` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–æ–¥–µ–ª–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- `predict.py` - —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (–∏–ª–∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏)

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ –ø—Ä–æ–µ–∫—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
- tensorflow
- numpy
- scikit-learn

